/*
This is if scss is availabe, still investigating
$font-heading: {{ $.Site.Params.heading_font | default "'Montserrat', sans-serif" }};
$font-body: {{ $.Site.Params.body_font | default "'Lato', sans-serif" }};

body {
  font-family: $font-body;
}

h1, h2, h3, h4, h5, h6 {
 font-family: $font-heading;
} */

.bg-black-60 {
  background-color: rgba(0, 0, 0, 0.85);
}

.measure-wide {
  max-width: 60em;
}

.monsterrat {
  font-family: Montserrat, sans-serif;
}

.lato {
  font-family: Lato, sans-serif;
  font-weight: 100;
}

/* ðŸ”’ HOMEPAGE HERO H1 GRADIENT FIX - HIGHEST PRIORITY */
.hero h1,
section.hero h1,
.hero > .container > h1 {
  background-size: 80% 100% !important;
}

/* Fix article page h1 gradients - ensure natural gradient flow */
article.section h1,
article.section header h1,
article.section .container-narrow h1,
.section article h1 {
  background-size: auto !important;
  background-repeat: no-repeat !important;
}

/* Subtle table styling that matches site design */
.article-content table {
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  margin: 2rem 0 !important;
  background: var(--dark-surface) !important;
  border-radius: var(--radius-lg) !important;
  overflow: hidden !important;
  box-shadow: var(--shadow-clean) !important;
  position: relative !important;
  table-layout: fixed !important;
  max-width: 100% !important;
}

.article-content table::before {
  content: "" !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 1px !important;
  background: var(--gradient-main) !important;
  animation: table-flow 6s linear infinite !important;
}

/* table-flow keyframes defined in main.css */

.article-content thead {
  background: var(--dark-surface-lighter) !important;
}

.article-content th {
  padding: 1.5rem 1rem !important;
  text-align: left !important;
  font-family: var(--font-accent) !important;
  font-weight: 700 !important;
  font-size: 0.95rem !important;
  color: var(--brand-primary) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  border: none !important;
}

.article-content td {
  padding: 1.5rem 1rem !important;
  border: none !important;
  color: var(--dark-text-secondary) !important;
  line-height: 1.6 !important;
  font-size: 1rem !important;
  vertical-align: top !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
  max-width: 0 !important;
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
}

.article-content td:first-child,
.article-content table td:first-child,
table td:first-child,
tbody td:first-child,
.article-content tbody tr td:first-child,
article.section .article-content table tbody tr td:first-child,
.article-content td:first-child strong,
.article-content table td:first-child strong,
table td:first-child strong {
  font-weight: 700 !important;
  color: #ffffff !important;
  background-color: transparent !important;
}

.article-content tbody tr {
  transition: all 0.25s ease !important;
}

.article-content tbody tr:hover {
  background: rgba(255, 27, 141, 0.05) !important;
  transform: translateY(-1px) !important;
  -webkit-transform: translateY(-1px) !important;
}

.article-content tbody tr:last-child td {
  border-bottom: none !important;
}

/* Code in tables - intelligent wrapping */
.article-content td code,
.article-content table td code,
table td code,
td code {
  word-break: keep-all !important;
  overflow-wrap: break-word !important;
  max-width: 100% !important;
}

/* Ensure table wrapper prevents horizontal scroll */
.table-wrapper,
.article-content .table-wrapper {
  overflow-x: hidden !important;
  max-width: 100% !important;
}

/* Better mobile table styling */
@media (max-width: 768px) {
  .article-content table {
    font-size: 0.9rem !important;
  }

  .article-content th,
  .article-content td {
    padding: 1rem 0.75rem !important;
  }
}

@media (max-width: 600px) {
  /* Override the main.css mobile rules that don't work well */
  .table-wrapper {
    overflow-x: auto !important;
    background: transparent !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  .table-wrapper::before {
    display: none !important;
  }

  .article-content table {
    min-width: 600px !important;
    font-size: 0.85rem !important;
  }

  .article-content th,
  .article-content td {
    padding: 0.75rem 0.5rem !important;
  }

  /* Ensure mobile scrolling works smoothly */
  .table-wrapper {
    -webkit-overflow-scrolling: touch !important;
    scroll-behavior: smooth !important;
  }
}

/* Style for coming soon items in dropdown menu */
.nav-dropdown .dropdown-menu li span {
  width: 100%;
  padding: var(--space-sm) var(--space-lg);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  color: var(--dark-text-muted);
  font-weight: 500;
  cursor: default;
}

/* Recipe search styles */
.recipe-search {
  margin-bottom: var(--space-xl);
}

.recipe-search-wrapper {
  display: flex;
  gap: var(--space-md);
  align-items: center;
  margin-bottom: var(--space-md);
}

.recipe-search-input {
  flex: 1;
  background: var(--dark-surface);
  border: 1px solid var(--dark-border);
  border-radius: var(--radius-md);
  padding: var(--space-md) var(--space-lg);
  color: var(--dark-text);
  font-family: var(--font-sans);
  font-size: 1rem;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.recipe-search-input:focus {
  outline: none;
  border-color: var(--color-pink);
  box-shadow: 0 0 0 3px rgba(255, 27, 141, 0.1);
}

.recipe-search-input::placeholder {
  color: var(--dark-text-muted);
}

.recipe-search-clear {
  background: var(--dark-surface);
  border: 1px solid var(--dark-border);
  border-radius: var(--radius-md);
  padding: var(--space-md) var(--space-lg);
  color: var(--dark-text-secondary);
  font-family: var(--font-sans);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
  white-space: nowrap;
}

.recipe-search-clear:hover {
  background: var(--dark-surface-lighter);
  border-color: var(--color-pink);
  color: var(--dark-text);
}

.recipe-search-clear:focus {
  outline: 2px solid var(--color-pink);
  outline-offset: 2px;
}

.recipe-search-results-count {
  color: var(--dark-text-secondary);
  font-size: 0.875rem;
  font-family: var(--font-sans);
  margin-bottom: var(--space-md);
  min-height: 1.5rem;
}

.recipe-search-empty {
  padding: var(--space-xl);
  text-align: center;
  color: var(--dark-text-muted);
  background: var(--dark-surface);
  border: 1px solid var(--dark-border);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-xl);
}

.recipe-search-empty p {
  margin: 0;
  font-size: 1rem;
}

@media (max-width: 480px) {
  .recipe-search-wrapper {
    flex-direction: column;
    align-items: stretch;
  }

  .recipe-search-clear {
    width: 100%;
  }
}

/* Image caption styling */
.article-content .image-caption,
.image-caption {
  display: block;
  font-size: 0.875rem;
  font-style: italic;
  color: var(--dark-text-muted);
  margin-top: -1.5rem;
  margin-bottom: 2rem;
  line-height: 1.5;
  text-align: center;
  width: 100%;
}

/* Recipe index page styles */
.recipe-index-categories-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
  align-items: start;
}

.recipe-index-column {
  display: flex;
  flex-direction: column;
}

.recipe-index-category {
  margin-bottom: 2.5rem;
}

.recipe-index-category-full-width {
  grid-column: 1 / -1;
  margin-top: 1rem;
}

.recipe-index-category-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--dark-text);
  font-family: var(--font-sans);
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
}

.recipe-index-category-title .recipe-index-category-count {
  color: var(--dark-text-muted);
  font-size: 0.875rem;
  font-weight: 400;
  font-family: var(--font-sans);
}

.recipe-index-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.recipe-index-item {
  margin: 0;
  padding: 0;
}

.recipe-index-link {
  display: flex;
  flex-direction: column;
  padding: 0.75rem 1rem;
  background: var(--dark-surface);
  border: 1px solid var(--dark-border);
  border-radius: var(--radius-md);
  text-decoration: none;
  color: var(--dark-text);
  transition: all var(--transition-fast);
  position: relative;
}

  .recipe-index-link:hover {
    background: var(--dark-surface-lighter);
    border-color: var(--color-pink);
    transform: translateX(4px);
    -webkit-transform: translateX(4px);
  }

.recipe-index-link:focus {
  outline: 2px solid var(--color-pink);
  outline-offset: 2px;
}

.recipe-index-title {
  display: block;
  font-size: 1rem;
  font-weight: 500;
  color: var(--dark-text);
  line-height: 1.5;
  margin-bottom: 0.25rem;
}

.recipe-index-meta {
  display: block;
  font-size: 0.8125rem;
  color: var(--dark-text-muted);
  font-family: var(--font-sans);
  margin-top: 0.125rem;
}

.recipe-index-meta span {
  display: inline;
}

@media (max-width: 768px) {
  .recipe-index-categories-grid {
    grid-template-columns: 1fr;
    gap: 0;
  }

  .recipe-index-category {
    margin-bottom: 2.5rem;
  }

  .recipe-index-category-title {
    font-size: 1.25rem;
  }

  /* Hide category count on mobile for cleaner look */
  /* Safari/iPhone fix: Use !important and multiple selectors */
  .recipe-index-category-title .recipe-index-category-count,
  .recipe-index-category-title span.recipe-index-category-count {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    position: absolute !important;
  }

  .recipe-index-link {
    padding: 0.625rem 0.875rem;
  }

  .recipe-index-title {
    font-size: 0.9375rem;
  }
}

@media (max-width: 480px) {
  .recipe-index-category {
    margin-bottom: 2rem;
  }

  .recipe-index-category-title {
    font-size: 1.125rem;
    margin-bottom: 0.875rem;
  }

  /* Ensure category count is hidden on small screens (Safari fix) */
  .recipe-index-category-title .recipe-index-category-count,
  .recipe-index-category-title span.recipe-index-category-count {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    position: absolute !important;
  }

  .recipe-index-link {
    padding: 0.625rem 0.75rem;
  }

  .recipe-index-title {
    font-size: 0.875rem;
  }

  .recipe-index-meta {
    font-size: 0.75rem;
  }
}

/* Safari/iPhone specific fixes for recipe index */
@supports (-webkit-touch-callout: none) {
  /* This targets Safari specifically */
  @media (max-width: 768px) {
    .recipe-index-category-title .recipe-index-category-count,
    .recipe-index-category-title span.recipe-index-category-count {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      width: 0 !important;
      height: 0 !important;
      overflow: hidden !important;
      position: absolute !important;
      font-size: 0 !important;
      line-height: 0 !important;
      margin: 0 !important;
      padding: 0 !important;
    }
  }
}

/* Comprehensive Safari/iPhone fixes for consistent rendering */
@supports (-webkit-touch-callout: none) {
  /* Fix container padding for safe areas on notched devices */
  .container,
  .container-narrow {
    padding-left: max(var(--space-lg), env(safe-area-inset-left));
    padding-right: max(var(--space-lg), env(safe-area-inset-right));
  }

  @media (max-width: 480px) {
    .container,
    .container-narrow {
      padding-left: max(var(--space-md), env(safe-area-inset-left));
      padding-right: max(var(--space-md), env(safe-area-inset-right));
    }
  }

  /* Ensure transforms work smoothly on Safari */
  .featured-post,
  .recipe-index-link,
  .hero-cta,
  .read-more-link,
  .read-more-featured {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    will-change: transform;
  }

  /* Fix flexbox gap issues on older Safari */
  .header-content,
  .main-nav ul,
  .social-links,
  .recipe-index-categories-grid {
    display: -webkit-flex;
    display: flex;
  }

  /* Ensure smooth scrolling on Safari */
  html {
    -webkit-overflow-scrolling: touch;
  }

  /* Fix font rendering on Safari */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Fix sticky positioning on Safari */
  .site-header {
    position: -webkit-sticky;
    position: sticky;
  }
}

/* 404 page mobile fixes */
@media (max-width: 768px) {
  section h1[style*="font-size: 8rem"] {
    font-size: 4rem !important;
  }
}

@media (max-width: 480px) {
  section h1[style*="font-size: 8rem"] {
    font-size: 3rem !important;
  }
}

/* Article description/subtitle mobile adjustments */
@media (max-width: 768px) {
  article header p[style*="font-size: 1.25rem"] {
    font-size: 1.125rem !important;
  }
}

@media (max-width: 480px) {
  article header p[style*="font-size: 1.25rem"] {
    font-size: 1rem !important;
  }
}

/* Previous/Next navigation mobile fixes */
@media (max-width: 480px) {
  nav[style*="min-width: 200px"] {
    flex-direction: column !important;
    gap: 1.5rem !important;
  }

  nav[style*="min-width: 200px"] > div {
    min-width: auto !important;
    text-align: left !important;
  }
}

/* Tags footer mobile spacing */
@media (max-width: 768px) {
  footer[style*="padding: 2rem"] {
    padding: 1.5rem !important;
    margin-top: 3rem !important;
  }
}

@media (max-width: 480px) {
  footer[style*="padding: 2rem"] {
    padding: 1rem !important;
    margin-top: 2rem !important;
  }
}

/* Override inline margin-bottom on featured posts in lists */
@media (max-width: 768px) {
  .featured-post[style*="margin-bottom: 3rem"] {
    margin-bottom: var(--space-2xl) !important;
  }
}

@media (max-width: 480px) {
  .featured-post[style*="margin-bottom: 3rem"] {
    margin-bottom: var(--space-xl) !important;
  }
}

