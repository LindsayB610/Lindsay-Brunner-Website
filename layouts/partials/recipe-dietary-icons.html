{{/* Renders dietary icons (DF, V, VG, GF) as graphic badges linking to filtered recipe list. */}}
{{/* Expects: dict "page" . "base" "/recipes/" */}}
{{- $page := .page -}}
{{- $base := default "/recipes/" .base -}}
{{- $dietary := $page.Params.dietary -}}
{{- if $dietary -}}
<span class="recipe-dietary-icons">
  {{- range $dietary -}}
    {{- $slug := . | urlize -}}
    {{- $label := . -}}
    {{- $abbr := cond (eq $slug "dairy-free") "DF" (cond (eq $slug "vegetarian") "V" (cond (eq $slug "vegan") "VG" (cond (eq $slug "gluten-free") "GF" ""))) -}}
    {{- if $abbr -}}
    {{- $url := printf "%s?diet=%s" (strings.TrimSuffix "/" $base) $slug -}}
  <a href="{{ $url }}" class="recipe-dietary-icon" title="{{ $label }}" aria-label="Filter recipes: {{ $label }}">{{ $abbr }}</a>
    {{- end -}}
  {{- end -}}
</span>
{{- end -}}
