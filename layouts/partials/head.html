<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="robots" content="index, follow" />

<title>
  {{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{
  end }}
</title>
<meta name="description" content="{{ if .Params.description }}{{ .Params.description }}{{ else }}{{ .Site.Params.description }}{{ end }}" />
<meta name="author" content="{{ .Site.Params.author }}" />

<link rel="canonical" href="{{ .Permalink }}" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}" />
<meta property="og:url" content="{{ .Permalink }}" />
<meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}" />
<meta property="og:description" content="{{ if .Params.description }}{{ .Params.description }}{{ else }}{{ .Site.Params.description }}{{ end }}" />
<meta property="og:site_name" content="{{ .Site.Title }}" />
{{ if .Params.social_image }}
  <meta property="og:image" content="{{ .Params.social_image | absURL }}" />
{{ else if and (eq .Section "recipes") .Params.slug }}
  {{ $slug := .Params.slug }}
  {{ if hasPrefix $slug "recipe-" }}
    {{ $slug = substr $slug 7 }}
  {{ end }}
  {{ $ogImage := printf "/images/social/recipe-%s-og.png" $slug }}
  <meta property="og:image" content="{{ $ogImage | absURL }}" />
{{ else if .Site.Params.default_social_image }}
  <meta property="og:image" content="{{ .Site.Params.default_social_image | absURL }}" />
{{ end }}

<!-- Twitter Card (X expects @username for site/creator, not full URL) -->
<meta name="twitter:card" content="summary_large_image" />
{{ if .Site.Params.twitter }}
  {{ $twitterHandle := replace .Site.Params.twitter "https://twitter.com/" "" }}
  {{ $twitterHandle = replace $twitterHandle "https://x.com/" "" }}
  {{ $twitterHandle = strings.TrimSuffix "/" $twitterHandle }}
  {{ if $twitterHandle }}
  <meta name="twitter:site" content="@{{ $twitterHandle }}" />
  <meta name="twitter:creator" content="@{{ $twitterHandle }}" />
  {{ end }}
{{ end }}
<meta name="twitter:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}" />
<meta name="twitter:description" content="{{ if .Params.description }}{{ .Params.description }}{{ else }}{{ .Site.Params.description }}{{ end }}" />
{{ if .Params.social_image }}
  <meta name="twitter:image" content="{{ .Params.social_image | absURL }}" />
{{ else if and (eq .Section "recipes") .Params.slug }}
  {{ $slug := .Params.slug }}
  {{ if hasPrefix $slug "recipe-" }}
    {{ $slug = substr $slug 7 }}
  {{ end }}
  {{ $ogImage := printf "/images/social/recipe-%s-og.png" $slug }}
  <meta name="twitter:image" content="{{ $ogImage | absURL }}" />
{{ else if .Site.Params.default_social_image }}
  <meta name="twitter:image" content="{{ .Site.Params.default_social_image | absURL }}" />
{{ end }}

{{- if and .IsPage (eq .Section "thoughts") }}
<!-- Article Meta Tags -->
<meta property="article:published_time" content="{{ .Date.UTC.Format "2006-01-02T15:04:05Z" }}" />
{{- if not .Lastmod.IsZero }}
<meta property="article:modified_time" content="{{ .Lastmod.UTC.Format "2006-01-02T15:04:05Z" }}" />
{{- else }}
<meta property="article:modified_time" content="{{ .Date.UTC.Format "2006-01-02T15:04:05Z" }}" />
{{- end }}
<meta property="article:author" content="{{ .Site.Params.author }}" />
{{- if .Params.tags }}
{{- range .Params.tags }}
<meta property="article:tag" content="{{ . }}" />
{{- end }}
{{- end }}
{{- end }}

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
  rel="stylesheet"
/>

<link rel="stylesheet" href="/css/main.css" />
<link rel="stylesheet" href="/css/custom.css" />

<!-- Favicons -->
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="/favicons/apple-touch-icon.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/favicons/favicon-32x32.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/favicons/favicon-16x16.png"
/>
<link rel="manifest" href="/favicons/site.webmanifest" />
<link rel="shortcut icon" href="/favicons/favicon.ico" />

{{ hugo.Generator }}

<!-- Plausible Analytics with Outbound Links for custom domain -->
<script
  defer
  data-domain="lindsaybrunner.com"
  src="https://plausible.io/js/script.outbound-links.js"
></script>
<script>
  window.plausible =
    window.plausible ||
    function () {
      (window.plausible.q = window.plausible.q || []).push(arguments);
    };
</script>

<!-- Ahrefs Web Analytics -->
<script
  src="https://analytics.ahrefs.com/analytics.js"
  data-key="hYzDmB3tibK7TOgTEj94mg"
  async
></script>
